
function createCookie(a,b,c){if(c){var d=new Date();d.setTime(d.getTime()+(c*24*60*60*1000));var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}function readCookie(a){var b=a+"=";var d=document.cookie.split(';');for(var i=0;i<d.length;i++){var c=d[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(b)==0)return c.substring(b.length,c.length)}return null}function eraseCookie(a){createCookie(a,"",-1)}
jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4}else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return jQuery.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b}});Array.prototype.unique=function(){var r=new Array();o:for(var i=0,n=this.length;i<n;i++){for(var x=0,y=r.length;x<y;x++){if(r[x]==this[i]){continue o}}r[r.length]=this[i]}return r}
var soundManager=null;function SoundManager(p,q){this.flashVersion=8;this.debugMode=true;this.useConsole=true;this.consoleOnly=false;this.waitForWindowLoad=false;this.nullURL='null.mp3';this.allowPolling=true;this.useFastPolling=false;this.useMovieStar=false;this.bgColor='#ffffff';this.useHighPerformance=false;this.flashLoadTimeout=1000;this.wmode=null;this.allowFullScreen=true;this.defaultOptions={'autoLoad':false,'stream':true,'autoPlay':false,'onid3':null,'onload':null,'whileloading':null,'onplay':null,'onpause':null,'onresume':null,'whileplaying':null,'onstop':null,'onfinish':null,'onbeforefinish':null,'onbeforefinishtime':5000,'onbeforefinishcomplete':null,'onjustbeforefinish':null,'onjustbeforefinishtime':200,'multiShot':true,'multiShotEvents':false,'position':null,'pan':0,'volume':100};this.flash9Options={'isMovieStar':null,'usePeakData':false,'useWaveformData':false,'useEQData':false,'onbufferchange':null,'ondataerror':null};this.movieStarOptions={'onmetadata':null,'useVideo':false,'bufferTime':null};var r=null;var t=this;this.version=null;this.versionNumber='V2.95a.20090717';this.movieURL=null;this.url=null;this.altURL=null;this.swfLoaded=false;this.enabled=false;this.o=null;this.id=(q||'sm2movie');this.oMC=null;this.sounds={};this.soundIDs=[];this.muted=false;this.isFullScreen=false;this.isIE=(navigator.userAgent.match(/MSIE/i));this.isSafari=(navigator.userAgent.match(/safari/i));this.debugID='soundmanager-debug';this.debugURLParam=/([#?&])debug=1/i;this.specialWmodeCase=false;this._onready=[];this._debugOpen=true;this._didAppend=false;this._appendSuccess=false;this._didInit=false;this._disabled=false;this._windowLoaded=false;this._hasConsole=(typeof console!='undefined'&&typeof console.log!='undefined');this._debugLevels=['log','info','warn','error'];this._defaultFlashVersion=8;this._oRemoved=null;this._oRemovedHTML=null;var u=function(a){return document.getElementById(a)};this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i};this.netStreamTypes=['aac','flv','mov','mp4','m4v','f4v','m4a','mp4v','3gp','3g2'];this.netStreamPattern=new RegExp('\\.('+this.netStreamTypes.join('|')+')(\\?.*)?$','i');this.filePattern=null;this.features={buffering:false,peakData:false,waveformData:false,eqData:false,movieStar:false};this.sandbox={'type':null,'types':{'remote':'remote (domain-based) rules','localWithFile':'local with file access (no internet access)','localWithNetwork':'local with network (internet access only, no local access)','localTrusted':'local, trusted (local + internet access)'},'description':null,'noRemote':null,'noLocal':null};this._setVersionInfo=function(){if(t.flashVersion!=8&&t.flashVersion!=9){alert('soundManager.flashVersion must be 8 or 9. "'+t.flashVersion+'" is invalid. Reverting to '+t._defaultFlashVersion+'.');t.flashVersion=t._defaultFlashVersion}t.version=t.versionNumber+(t.flashVersion==9?' (AS3/Flash 9)':' (AS2/Flash 8)');if(t.flashVersion>8){t.defaultOptions=t._mergeObjects(t.defaultOptions,t.flash9Options);t.features.buffering=true}if(t.flashVersion>8&&t.useMovieStar){t.defaultOptions=t._mergeObjects(t.defaultOptions,t.movieStarOptions);t.filePatterns.flash9=new RegExp('\\.(mp3|'+t.netStreamTypes.join('|')+')(\\?.*)?$','i');t.features.movieStar=true}else{t.useMovieStar=false;t.features.movieStar=false}t.filePattern=t.filePatterns[(t.flashVersion!=8?'flash9':'flash8')];t.movieURL=(t.flashVersion==8?'soundmanager2.swf':'soundmanager2_flash9.swf');t.features.peakData=t.features.waveformData=t.features.eqData=(t.flashVersion>8)};this._overHTTP=(document.location?document.location.protocol.match(/http/i):null);this._waitingforEI=false;this._initPending=false;this._tryInitOnFocus=(this.isSafari&&typeof document.hasFocus=='undefined');this._isFocused=(typeof document.hasFocus!='undefined'?document.hasFocus():null);this._okToDisable=!this._tryInitOnFocus;this.useAltURL=!this._overHTTP;var v='http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html';this.strings={notReady:'Not loaded yet - wait for soundManager.onload() before calling sound-related methods',appXHTML:'soundManager._createMovie(): appendChild/innerHTML set failed. May be app/xhtml+xml DOM-related.',localFail:'soundManager: Loading this page from local/network file system (not over HTTP?) Flash security likely restricting JS-Flash access. Consider adding current URL to "trusted locations" in the Flash player security settings manager at '+v+', or simply serve this content over HTTP.',waitFocus:'soundManager: Special case: Waiting for focus-related event..',waitImpatient:'soundManager: Getting impatient, still waiting for Flash.. ;)',waitForever:'soundManager: Waiting indefinitely for Flash...',needFunction:'soundManager.onready(): Function object expected'};this.supported=function(){return(t._didInit&&!t._disabled)};this.getMovie=function(a){return t.isIE?window[a]:(t.isSafari?u(a)||document[a]:u(a))};this.loadFromXML=function(a){try{t.o._loadFromXML(a)}catch(e){t._failSafely();return true}};this.createSound=function(a){var b='soundManager.createSound(): ';if(!t._didInit){throw t._complain(b+t.strings.notReady,arguments.callee.caller);}if(arguments.length==2){a={'id':arguments[0],'url':arguments[1]}}var c=t._mergeObjects(a);var d=c;if(d.id.toString().charAt(0).match(/^[0-9]$/)){var e=b+'Warning: Sound ID "'+d.id+'" should be a string, starting with a non-numeric character';t._wD(e,2)}t._wD(b+d.id+' ('+d.url+')',1);if(t._idCheck(d.id,true)){t._wD(b+d.id+' exists',1);return t.sounds[d.id]}if(t.flashVersion>8&&t.useMovieStar){if(d.isMovieStar===null){d.isMovieStar=(d.url.match(t.netStreamPattern)?true:false)}if(d.isMovieStar){t._wD(b+'using MovieStar handling')}if(d.isMovieStar&&(d.usePeakData||d.useWaveformData||d.useEQData)){t._wD('Warning: peak/waveform/eqData features unsupported for non-MP3 formats');d.usePeakData=false;d.useWaveformData=false;d.useEQData=false}}t.sounds[d.id]=new r(d);t.soundIDs[t.soundIDs.length]=d.id;if(t.flashVersion==8){t.o._createSound(d.id,d.onjustbeforefinishtime)}else{t.o._createSound(d.id,d.url,d.onjustbeforefinishtime,d.usePeakData,d.useWaveformData,d.useEQData,d.isMovieStar,(d.isMovieStar?d.useVideo:false),(d.isMovieStar?d.bufferTime:false))}if(d.autoLoad||d.autoPlay){if(t.sounds[d.id]){t.sounds[d.id].load(d)}}if(d.autoPlay){t.sounds[d.id].play()}return t.sounds[d.id]};this.createVideo=function(a){if(arguments.length==2){a={'id':arguments[0],'url':arguments[1]}}if(t.flashVersion>=9){a.isMovieStar=true;a.useVideo=true}else{t._wD('soundManager.createVideo(): flash 9 required for video. Exiting.',2);return false}if(!t.useMovieStar){t._wD('soundManager.createVideo(): MovieStar mode not enabled. Exiting.',2)}return t.createSound(a)};this.destroySound=function(a,b){if(!t._idCheck(a)){return false}for(var i=0;i<t.soundIDs.length;i++){if(t.soundIDs[i]==a){t.soundIDs.splice(i,1);continue}}t.sounds[a].unload();if(!b){t.sounds[a].destruct()}delete t.sounds[a]};this.destroyVideo=this.destroySound;this.load=function(a,b){if(!t._idCheck(a)){return false}t.sounds[a].load(b)};this.unload=function(a){if(!t._idCheck(a)){return false}t.sounds[a].unload()};this.play=function(a,b){if(!t._didInit){throw t._complain('soundManager.play(): '+t.strings.notReady,arguments.callee.caller);}if(!t._idCheck(a)){if(typeof b!='Object'){b={url:b}}if(b&&b.url){t._wD('soundController.play(): attempting to create "'+a+'"',1);b.id=a;t.createSound(b)}else{return false}}t.sounds[a].play(b)};this.start=this.play;this.setPosition=function(a,b){if(!t._idCheck(a)){return false}t.sounds[a].setPosition(b)};this.stop=function(a){if(!t._idCheck(a)){return false}t._wD('soundManager.stop('+a+')',1);t.sounds[a].stop()};this.stopAll=function(){t._wD('soundManager.stopAll()',1);for(var a in t.sounds){if(t.sounds[a]instanceof r){t.sounds[a].stop()}}};this.pause=function(a){if(!t._idCheck(a)){return false}t.sounds[a].pause()};this.pauseAll=function(){for(var i=t.soundIDs.length;i--;){t.sounds[t.soundIDs[i]].pause()}};this.resume=function(a){if(!t._idCheck(a)){return false}t.sounds[a].resume()};this.resumeAll=function(){for(var i=t.soundIDs.length;i--;){t.sounds[t.soundIDs[i]].resume()}};this.togglePause=function(a){if(!t._idCheck(a)){return false}t.sounds[a].togglePause()};this.setPan=function(a,b){if(!t._idCheck(a)){return false}t.sounds[a].setPan(b)};this.setVolume=function(a,b){if(!t._idCheck(a)){return false}t.sounds[a].setVolume(b)};this.mute=function(a){if(typeof a!='string'){a=null}if(!a){t._wD('soundManager.mute(): Muting all sounds');for(var i=t.soundIDs.length;i--;){t.sounds[t.soundIDs[i]].mute()}t.muted=true}else{if(!t._idCheck(a)){return false}t._wD('soundManager.mute(): Muting "'+a+'"');t.sounds[a].mute()}};this.muteAll=function(){t.mute()};this.unmute=function(a){if(typeof a!='string'){a=null}if(!a){t._wD('soundManager.unmute(): Unmuting all sounds');for(var i=t.soundIDs.length;i--;){t.sounds[t.soundIDs[i]].unmute()}t.muted=false}else{if(!t._idCheck(a)){return false}t._wD('soundManager.unmute(): Unmuting "'+a+'"');t.sounds[a].unmute()}};this.unmuteAll=function(){t.unmute()};this.toggleMute=function(a){if(!t._idCheck(a)){return false}t.sounds[a].toggleMute()};this.getMemoryUse=function(){if(t.flashVersion==8){return 0}if(t.o){return parseInt(t.o._getMemoryUse(),10)}};this.disable=function(a){if(typeof a=='undefined'){a=false}if(t._disabled){return false}t._disabled=true;t._wD('soundManager.disable(): Shutting down',1);for(var i=t.soundIDs.length;i--;){t._disableObject(t.sounds[t.soundIDs[i]])}t.initComplete(a)};this.canPlayURL=function(a){return(a?(a.match(t.filePattern)?true:false):null)};this.getSoundById=function(a,b){if(!a){throw new Error('SoundManager.getSoundById(): sID is null/undefined');}var c=t.sounds[a];if(!c&&!b){t._wD('"'+a+'" is an invalid sound ID.',2)}return c};this.onready=function(a,b){if(a&&a instanceof Function){if(t._didInit){t._wD('soundManager.onready(): Queueing handler')}if(!b){b=window}t._addOnReady(a,b);t._processOnReady();return true}else{throw t.strings.needFunction;}};this.oninitmovie=function(){};this.onload=function(){soundManager._wD('soundManager.onload()',1)};this.onerror=function(){};this._idCheck=this.getSoundById;this._complain=function(a,b){var c='Error: ';if(!b){return new Error(c+a)}var e=new Error('');var d=null;if(e.stack){try{var f='@';var g=e.stack.split(f);d=g[4]}catch(ee){d=e.stack}}if(typeof console!='undefined'&&typeof console.trace!='undefined'){console.trace()}var h=c+a+'. \nCaller: '+b.toString()+(e.stack?' \nTop of stacktrace: '+d:(e.message?' \nMessage: '+e.message:''));return new Error(h)};var w=function(){return false};w._protected=true;this._disableObject=function(o){for(var a in o){if(typeof o[a]=='function'&&typeof o[a]._protected=='undefined'){o[a]=w}}a=null};this._failSafely=function(a){if(typeof a=='undefined'){a=false}if(!t._disabled||a){t._wD('soundManager: Failed to initialise.',2);t.disable(a)}};this._normalizeMovieURL=function(a){var b=null;if(a){if(a.match(/\.swf(\?.*)?$/i)){b=a.substr(a.toLowerCase().lastIndexOf('.swf?')+4);if(b){return a}}else if(a.lastIndexOf('/')!=a.length-1){a=a+'/'}}return(a&&a.lastIndexOf('/')!=-1?a.substr(0,a.lastIndexOf('/')+1):'./')+t.movieURL};this._getDocument=function(){return(document.body?document.body:(document.documentElement?document.documentElement:document.getElementsByTagName('div')[0]))};this._getDocument._protected=true;this._setPolling=function(a,b){if(!t.o||!t.allowPolling){return false}t.o._setPolling(a,b)};this._createMovie=function(a,b){var c=null;var d=(b?b:t.url);var f=(t.altURL?t.altURL:d);if(t.debugURLParam.test(window.location.href.toString())){t.debugMode=true}if(t._didAppend&&t._appendSuccess){return false}t._didAppend=true;t._setVersionInfo();t.url=t._normalizeMovieURL(t._overHTTP?d:f);b=t.url;if(t.useHighPerformance&&t.useMovieStar&&t.defaultOptions.useVideo===true){c='soundManager note: disabling highPerformance, not applicable with movieStar mode + useVideo';t.useHighPerformance=false}t.wmode=(!t.wmode&&t.useHighPerformance&&!t.useMovieStar?'transparent':t.wmode);if(t.wmode!==null&&t.flashLoadTimeout!==0&&!t.useHighPerformance&&!t.isIE&&navigator.platform.match(/win32/i)){t.specialWmodeCase=true;t._wD('soundManager note: Removing wmode, preventing off-screen SWF loading issue');t.wmode=null}if(t.flashVersion==8){t.allowFullScreen=false}var g={name:a,id:a,src:b,width:'100%',height:'100%',quality:'high',allowScriptAccess:'always',bgcolor:t.bgColor,pluginspage:'http://www.macromedia.com/go/getflashplayer',type:'application/x-shockwave-flash',wmode:t.wmode,allowfullscreen:(t.allowFullScreen?'true':'false')};if(!t.wmode){delete g.wmode}var h=null;var i=null;if(t.isIE){h=document.createElement('div');var j='<object id="'+a+'" data="'+b+'" type="application/x-shockwave-flash" width="100%" height="100%"><param name="movie" value="'+b+'" /><param name="AllowScriptAccess" value="always" /><param name="quality" value="high" />'+(t.wmode?'<param name="wmode" value="'+t.wmode+'" /> ':'')+'<param name="bgcolor" value="'+t.bgColor+'" /><param name="allowFullScreen" value="'+(t.allowFullScreen?'true':'false')+'" /><!-- --></object>'}else{h=document.createElement('embed');for(i in g){if(g.hasOwnProperty(i)){h.setAttribute(i,g[i])}}}var k=document.createElement('div');k.id=t.debugID+'-toggle';var l={position:'fixed',bottom:'0px',right:'0px',width:'1.2em',height:'1.2em',lineHeight:'1.2em',margin:'2px',textAlign:'center',border:'1px solid #999',cursor:'pointer',background:'#fff',color:'#333',zIndex:10001};k.appendChild(document.createTextNode('-'));k.onclick=t._toggleDebug;k.title='Toggle SM2 debug console';if(navigator.userAgent.match(/msie 6/i)){k.style.position='absolute';k.style.cursor='hand'}for(i in l){if(l.hasOwnProperty(i)){k.style[i]=l[i]}}var m=t._getDocument();if(m){t.oMC=u('sm2-container')?u('sm2-container'):document.createElement('div');if(!t.oMC.id){t.oMC.id='sm2-container';t.oMC.className='movieContainer';var s=null;var n=null;if(t.useHighPerformance){s={position:'fixed',width:'8px',height:'8px',bottom:'0px',left:'0px',overflow:'hidden'}}else{s={position:'absolute',width:'8px',height:'8px',top:'-9999px',left:'-9999px'}}var x=null;for(x in s){if(s.hasOwnProperty(x)){t.oMC.style[x]=s[x]}}try{if(!t.isIE){t.oMC.appendChild(h)}m.appendChild(t.oMC);if(t.isIE){n=t.oMC.appendChild(document.createElement('div'));n.className='sm2-object-box';n.innerHTML=j}t._appendSuccess=true}catch(e){throw new Error(t.strings.appXHTML);}}else{t.oMC.appendChild(h);if(t.isIE){n=t.oMC.appendChild(document.createElement('div'));n.className='sm2-object-box';n.innerHTML=j}t._appendSuccess=true}if(!u(t.debugID)&&((!t._hasConsole||!t.useConsole)||(t.useConsole&&t._hasConsole&&!t.consoleOnly))){var o=document.createElement('div');o.id=t.debugID;o.style.display=(t.debugMode?'block':'none');if(t.debugMode&&!u(k.id)){try{m.appendChild(k)}catch(e2){throw new Error(t.strings.appXHTML);}m.appendChild(o)}}m=null}if(c){t._wD(c)}t._wD('-- SoundManager 2 '+t.version+(t.useMovieStar?', MovieStar mode':'')+(t.useHighPerformance?', high performance mode, ':', ')+((t.useFastPolling?'fast':'normal')+' polling mode')+(t.wmode?', wmode: '+t.wmode:'')+' --',1);t._wD('soundManager._createMovie(): Trying to load '+b+(!t._overHTTP&&t.altURL?' (alternate URL)':''),1)};this._writeDebug=function(a,b,c){if(!t.debugMode){return false}if(typeof c!='undefined'&&c){a=a+' | '+new Date().getTime()}if(t._hasConsole&&t.useConsole){var d=t._debugLevels[b];if(typeof console[d]!='undefined'){console[d](a)}else{console.log(a)}if(t.useConsoleOnly){return true}}var f='soundmanager-debug';try{var o=u(f);if(!o){return false}var g=document.createElement('div');if(++t._wdCount%2===0){g.className='sm2-alt'}if(typeof b=='undefined'){b=0}else{b=parseInt(b,10)}g.appendChild(document.createTextNode(a));if(b){if(b>=2){g.style.fontWeight='bold'}if(b==3){g.style.color='#ff3333'}}o.insertBefore(g,o.firstChild)}catch(e){}o=null};this._writeDebug._protected=true;this._wdCount=0;this._wdCount._protected=true;this._wD=this._writeDebug;this._wDAlert=function(a){alert(a)};if(window.location.href.indexOf('debug=alert')+1&&t.debugMode){t._wD=t._wDAlert}this._toggleDebug=function(){var o=u(t.debugID);var a=u(t.debugID+'-toggle');if(!o){return false}if(t._debugOpen){a.innerHTML='+';o.style.display='none'}else{a.innerHTML='-';o.style.display='block'}t._debugOpen=!t._debugOpen};this._toggleDebug._protected=true;this._debug=function(){t._wD('--- soundManager._debug(): Current sound objects ---',1);for(var i=0,j=t.soundIDs.length;i<j;i++){t.sounds[t.soundIDs[i]]._debug()}};this._debugTS=function(a,b,c){if(typeof sm2Debugger!='undefined'){try{sm2Debugger.handleEvent(a,b,c)}catch(e){}}};this._debugTS._protected=true;this._mergeObjects=function(a,b){var c={};for(var i in a){if(a.hasOwnProperty(i)){c[i]=a[i]}}var d=(typeof b=='undefined'?t.defaultOptions:b);for(var o in d){if(d.hasOwnProperty(o)&&typeof c[o]=='undefined'){c[o]=d[o]}}return c};this.createMovie=function(a){if(a){t.url=a}t._initMovie()};this.go=this.createMovie;this._initMovie=function(){if(t.o){return false}t.o=t.getMovie(t.id);if(!t.o){if(!t.oRemoved){t._createMovie(t.id,t.url)}else{if(!t.isIE){t.oMC.appendChild(t.oRemoved)}else{t.oMC.innerHTML=t.oRemovedHTML}t.oRemoved=null;t._didAppend=true}t.o=t.getMovie(t.id)}if(t.o){t._wD('soundManager._initMovie(): Got '+t.o.nodeName+' element ('+(t._didAppend?'created via JS':'static HTML')+')',1);if(t.flashLoadTimeout>0){t._wD('soundManager._initMovie(): Waiting for ExternalInterface call from Flash..')}}if(typeof t.oninitmovie=='function'){setTimeout(t.oninitmovie,1)}};this.waitForExternalInterface=function(){if(t._waitingForEI){return false}t._waitingForEI=true;if(t._tryInitOnFocus&&!t._isFocused){t._wD(t.strings.waitFocus);return false}if(t.flashLoadTimeout>0){if(!t._didInit){t._wD(t.strings.waitImpatient)}setTimeout(function(){if(!t._didInit){t._wD('soundManager: No Flash response within reasonable time after document load.\nPossible causes: Loading '+t.movieURL+' failed, Flash version under '+t.flashVersion+', no support, flash blocked or JS-Flash security error.',2);if(!t._overHTTP){t._wD(t.strings.localFail,2)}t._debugTS('flashtojs',false,': Timed out'+(t._overHTTP)?' (Check flash security or flash blockers)':' (No plugin/missing SWF?)')}if(!t._didInit&&t._okToDisable){t._failSafely(true)}},t.flashLoadTimeout)}else if(!t._didInit){t._wD(t.strings.waitForever)}};this.handleFocus=function(){if(t._isFocused||!t._tryInitOnFocus){return true}t._okToDisable=true;t._isFocused=true;t._wD('soundManager.handleFocus()');if(t._tryInitOnFocus){window.removeEventListener('mousemove',t.handleFocus,false)}t._waitingForEI=false;setTimeout(t.waitForExternalInterface,500);if(window.removeEventListener){window.removeEventListener('focus',t.handleFocus,false)}else if(window.detachEvent){window.detachEvent('onfocus',t.handleFocus)}};this.initComplete=function(a){if(t._didInit){return false}t._didInit=true;t._wD('-- SoundManager 2 '+(t._disabled?'failed to load':'loaded')+' ('+(t._disabled?'security/load error':'OK')+') --',1);if(t._disabled||a){t._wD('soundManager.initComplete(): calling soundManager.onerror()',1);t._processOnReady();t._debugTS('onload',false);t.onerror.apply(window);return false}else{t._debugTS('onload',true)}if(t.waitForWindowLoad&&!t._windowLoaded){t._wD('soundManager: Waiting for window.onload()');if(window.addEventListener){window.addEventListener('load',t._initUserOnload,false)}else if(window.attachEvent){window.attachEvent('onload',t._initUserOnload)}return false}else{if(t.waitForWindowLoad&&t._windowLoaded){t._wD('soundManager: Document already loaded')}t._initUserOnload()}};this._addOnReady=function(a,b){t._onready.push({'method':a,'scope':(b||null),'fired':false})};this._processOnReady=function(){if(!t._didInit){return false}var a={success:(!t._disabled)};var b=[];for(var i=0,j=t._onready.length;i<j;i++){if(t._onready[i].fired!==true){b.push(t._onready[i])}}if(b.length){t._wD('soundManager: Firing '+b.length+' onready() item'+(b.length>1?'s':''));for(i=0,j=b.length;i<j;i++){if(b[i].scope){b[i].method.apply(b[i].scope,[a])}else{b[i].method(a)}b[i].fired=true}}};this._initUserOnload=function(){window.setTimeout(function(){t._processOnReady();t._wD('soundManager.initComplete(): calling soundManager.onload()',1);t.onload.apply(window);t._wD('soundManager.onload() complete',1)})};this.init=function(){t._wD('-- soundManager.init() --');t._initMovie();if(t._didInit){t._wD('soundManager.init(): Already called?');return false}if(window.removeEventListener){window.removeEventListener('load',t.beginDelayedInit,false)}else if(window.detachEvent){window.detachEvent('onload',t.beginDelayedInit)}try{t._wD('Attempting to call Flash from JS..');t.o._externalInterfaceTest(false);if(!t.allowPolling){t._wD('Polling (whileloading()/whileplaying() support) is disabled.',1)}t._setPolling(true,t.useFastPolling?true:false);if(!t.debugMode){t.o._disableDebug()}t.enabled=true;t._debugTS('jstoflash',true)}catch(e){t._wD('js/flash exception: '+e.toString());t._debugTS('jstoflash',false);t._failSafely(true);t.initComplete();return false}t.initComplete()};this.beginDelayedInit=function(){t._wD('soundManager.beginDelayedInit()');t._windowLoaded=true;setTimeout(t.waitForExternalInterface,500);setTimeout(t.beginInit,20)};this.beginInit=function(){if(t._initPending){return false}t.createMovie();t._initMovie();t._initPending=true;return true};this.domContentLoaded=function(){t._wD('soundManager.domContentLoaded()');if(document.removeEventListener){document.removeEventListener('DOMContentLoaded',t.domContentLoaded,false)}t.go()};this._externalInterfaceOK=function(){if(t.swfLoaded){return false}t._wD('soundManager._externalInterfaceOK()');t._debugTS('swf',true);t._debugTS('flashtojs',true);t.swfLoaded=true;t._tryInitOnFocus=false;if(t.isIE){setTimeout(t.init,100)}else{t.init()}};this._setSandboxType=function(a){var b=t.sandbox;b.type=a;b.description=b.types[(typeof b.types[a]!='undefined'?a:'unknown')];t._wD('Flash security sandbox type: '+b.type);if(b.type=='localWithFile'){b.noRemote=true;b.noLocal=false;t._wD('Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html',2)}else if(b.type=='localWithNetwork'){b.noRemote=false;b.noLocal=true}else if(b.type=='localTrusted'){b.noRemote=false;b.noLocal=false}};this.reboot=function(){t._wD('soundManager.reboot()');if(t.soundIDs.length){t._wD('Destroying '+t.soundIDs.length+' SMSound objects...')}for(var i=t.soundIDs.length;i--;){t.sounds[t.soundIDs[i]].destruct()}try{if(t.isIE){t.oRemovedHTML=t.o.innerHTML}t.oRemoved=t.o.parentNode.removeChild(t.o);t._wD('Flash movie removed.')}catch(e){t._wD('Warning: Failed to remove flash movie.',2)}t.enabled=false;t._didInit=false;t._waitingForEI=false;t._initPending=false;t._didAppend=false;t._appendSuccess=false;t._disabled=false;t._waitingforEI=true;t.swfLoaded=false;t.soundIDs={};t.sounds=[];t.o=null;for(i=t._onready.length;i--;){t._onready[i].fired=false}t._wD('soundManager: Rebooting...');window.setTimeout(soundManager.beginDelayedInit,20)};this.destruct=function(){t._wD('soundManager.destruct()');t.disable(true)};r=function(f){var g=this;this.sID=f.id;this.url=f.url;this.options=t._mergeObjects(f);this.instanceOptions=this.options;this._iO=this.instanceOptions;this.pan=this.options.pan;this.volume=this.options.volume;this._lastURL=null;this._debug=function(){if(t.debugMode){var a=null;var b=[];var c=null;var d=null;var e=64;for(a in g.options){if(g.options[a]!==null){if(g.options[a]instanceof Function){c=g.options[a].toString();c=c.replace(/\s\s+/g,' ');d=c.indexOf('{');b[b.length]=' '+a+': {'+c.substr(d+1,(Math.min(Math.max(c.indexOf('\n')-1,e),e))).replace(/\n/g,'')+'... }'}else{b[b.length]=' '+a+': '+g.options[a]}}}t._wD('SMSound() merged options: {\n'+b.join(', \n')+'\n}')}};this._debug();this.id3={};this.resetProperties=function(a){g.bytesLoaded=null;g.bytesTotal=null;g.position=null;g.duration=null;g.durationEstimate=null;g.loaded=false;g.playState=0;g.paused=false;g.readyState=0;g.muted=false;g.didBeforeFinish=false;g.didJustBeforeFinish=false;g.isBuffering=false;g.instanceOptions={};g.instanceCount=0;g.peakData={left:0,right:0};g.waveformData={left:[],right:[]};g.eqData=[]};g.resetProperties();this.load=function(a){if(typeof a!='undefined'){g._iO=t._mergeObjects(a);g.instanceOptions=g._iO}else{a=g.options;g._iO=a;g.instanceOptions=g._iO;if(g._lastURL&&g._lastURL!=g.url){t._wD('SMSound.load(): Using manually-assigned URL');g._iO.url=g.url;g.url=null}}if(typeof g._iO.url=='undefined'){g._iO.url=g.url}t._wD('soundManager.load(): '+g._iO.url,1);if(g._iO.url==g.url&&g.readyState!==0&&g.readyState!=2){t._wD('soundManager.load(): current URL already assigned.',1);return false}g.url=g._iO.url;g._lastURL=g._iO.url;g.loaded=false;g.readyState=1;g.playState=0;try{if(t.flashVersion==8){t.o._load(g.sID,g._iO.url,g._iO.stream,g._iO.autoPlay,(g._iO.whileloading?1:0))}else{t.o._load(g.sID,g._iO.url,g._iO.stream?true:false,g._iO.autoPlay?true:false);if(g._iO.isMovieStar&&g._iO.autoLoad&&!g._iO.autoPlay){g.pause()}}}catch(e){t._wD('SMSound.load(): Exception: JS-Flash communication failed, or JS error.',2);t._debugTS('onload',false);t.onerror();t.disable()}};this.unload=function(){if(g.readyState!==0){t._wD('SMSound.unload(): "'+g.sID+'"');if(g.readyState!=2){g.setPosition(0,true)}t.o._unload(g.sID,t.nullURL);g.resetProperties()}};this.destruct=function(){t._wD('SMSound.destruct(): "'+g.sID+'"');t.o._destroySound(g.sID);t.destroySound(g.sID,true)};this.play=function(a){if(!a){a={}}g._iO=t._mergeObjects(a,g._iO);g._iO=t._mergeObjects(g._iO,g.options);g.instanceOptions=g._iO;if(g.playState==1){var b=g._iO.multiShot;if(!b){t._wD('SMSound.play(): "'+g.sID+'" already playing (one-shot)',1);return false}else{t._wD('SMSound.play(): "'+g.sID+'" already playing (multi-shot)',1)}}if(!g.loaded){if(g.readyState===0){t._wD('SMSound.play(): Attempting to load "'+g.sID+'"',1);g._iO.stream=true;g._iO.autoPlay=true;g.load(g._iO)}else if(g.readyState==2){t._wD('SMSound.play(): Could not load "'+g.sID+'" - exiting',2);return false}else{t._wD('SMSound.play(): "'+g.sID+'" is loading - attempting to play..',1)}}else{t._wD('SMSound.play(): "'+g.sID+'"')}if(g.paused){g.resume()}else{g.playState=1;if(!g.instanceCount||t.flashVersion>8){g.instanceCount++}g.position=(typeof g._iO.position!='undefined'&&!isNaN(g._iO.position)?g._iO.position:0);if(g._iO.onplay){g._iO.onplay.apply(g)}g.setVolume(g._iO.volume,true);g.setPan(g._iO.pan,true);t.o._start(g.sID,g._iO.loop||1,(t.flashVersion==9?g.position:g.position/1000))}};this.start=this.play;this.stop=function(a){if(g.playState==1){g.playState=0;g.paused=false;if(g._iO.onstop){g._iO.onstop.apply(g)}t.o._stop(g.sID,a);g.instanceCount=0;g._iO={}}};this.setPosition=function(a,b){if(typeof a=='undefined'){a=0}var c=Math.min(g.duration,Math.max(a,0));g._iO.position=c;if(!b){}t.o._setPosition(g.sID,(t.flashVersion==9?g._iO.position:g._iO.position/1000),(g.paused||!g.playState))};this.pause=function(){if(g.paused||g.playState===0){return false}t._wD('SMSound.pause()');g.paused=true;t.o._pause(g.sID);if(g._iO.onpause){g._iO.onpause.apply(g)}};this.resume=function(){if(!g.paused||g.playState===0){return false}t._wD('SMSound.resume()');g.paused=false;t.o._pause(g.sID);if(g._iO.onresume){g._iO.onresume.apply(g)}};this.togglePause=function(){t._wD('SMSound.togglePause()');if(g.playState===0){g.play({position:(t.flashVersion==9?g.position:g.position/1000)});return false}if(g.paused){g.resume()}else{g.pause()}};this.setPan=function(a,b){if(typeof a=='undefined'){a=0}if(typeof b=='undefined'){b=false}t.o._setPan(g.sID,a);g._iO.pan=a;if(!b){g.pan=a}};this.setVolume=function(a,b){if(typeof a=='undefined'){a=100}if(typeof b=='undefined'){b=false}t.o._setVolume(g.sID,(t.muted&&!g.muted)||g.muted?0:a);g._iO.volume=a;if(!b){g.volume=a}};this.mute=function(){g.muted=true;t.o._setVolume(g.sID,0)};this.unmute=function(){g.muted=false;var a=typeof g._iO.volume!='undefined';t.o._setVolume(g.sID,a?g._iO.volume:g.options.volume)};this.toggleMute=function(){if(g.muted){g.unmute()}else{g.mute()}};this._whileloading=function(a,b,c){if(!g._iO.isMovieStar){g.bytesLoaded=a;g.bytesTotal=b;g.duration=Math.floor(c);g.durationEstimate=parseInt((g.bytesTotal/g.bytesLoaded)*g.duration,10);if(g.durationEstimate===undefined){g.durationEstimate=g.duration}if(g.readyState!=3&&g._iO.whileloading){g._iO.whileloading.apply(g)}}else{g.bytesLoaded=a;g.bytesTotal=b;g.duration=Math.floor(c);g.durationEstimate=g.duration;if(g.readyState!=3&&g._iO.whileloading){g._iO.whileloading.apply(g)}}};this._onid3=function(a,b){t._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.');var c=[];for(var i=0,j=a.length;i<j;i++){c[a[i]]=b[i]}g.id3=t._mergeObjects(g.id3,c);if(g._iO.onid3){g._iO.onid3.apply(g)}};this._whileplaying=function(a,b,c,d,e){if(isNaN(a)||a===null){return false}if(g.playState===0&&a>0){a=0}g.position=a;if(g._iO.usePeakData&&typeof b!='undefined'&&b){g.peakData={left:b.leftPeak,right:b.rightPeak}}if(g._iO.useWaveformData&&typeof c!='undefined'&&c){g.waveformData={left:c.split(','),right:d.split(',')}}if(g._iO.useEQData&&typeof e!='undefined'&&e){g.eqData=e}if(g.playState==1){if(g.isBuffering){g._onbufferchange(0)}if(g._iO.whileplaying){g._iO.whileplaying.apply(g)}if(g.loaded&&g._iO.onbeforefinish&&g._iO.onbeforefinishtime&&!g.didBeforeFinish&&g.duration-g.position<=g._iO.onbeforefinishtime){t._wD('duration-position &lt;= onbeforefinishtime: '+g.duration+' - '+g.position+' &lt= '+g._iO.onbeforefinishtime+' ('+(g.duration-g.position)+')');g._onbeforefinish()}}};this._onload=function(a){a=(a==1?true:false);t._wD('SMSound._onload(): "'+g.sID+'"'+(a?' loaded.':' failed to load? - '+g.url),(a?1:2));if(!a){if(t.sandbox.noRemote===true){t._wD('SMSound._onload(): Reminder: Flash security is denying network/internet access',1)}if(t.sandbox.noLocal===true){t._wD('SMSound._onload(): Reminder: Flash security is denying local access',1)}}g.loaded=a;g.readyState=a?3:2;if(g._iO.onload){g._iO.onload.apply(g)}};this._onbeforefinish=function(){if(!g.didBeforeFinish){g.didBeforeFinish=true;if(g._iO.onbeforefinish){t._wD('SMSound._onbeforefinish(): "'+g.sID+'"');g._iO.onbeforefinish.apply(g)}}};this._onjustbeforefinish=function(a){if(!g.didJustBeforeFinish){g.didJustBeforeFinish=true;if(g._iO.onjustbeforefinish){t._wD('SMSound._onjustbeforefinish(): "'+g.sID+'"');g._iO.onjustbeforefinish.apply(g)}}};this._onfinish=function(){if(g._iO.onbeforefinishcomplete){g._iO.onbeforefinishcomplete.apply(g)}g.didBeforeFinish=false;g.didJustBeforeFinish=false;if(g.instanceCount){g.instanceCount--;if(!g.instanceCount){g.playState=0;g.paused=false;g.instanceCount=0;g.instanceOptions={}}if(!g.instanceCount||g._iO.multiShotEvents){if(g._iO.onfinish){t._wD('SMSound._onfinish(): "'+g.sID+'"');g._iO.onfinish.apply(g)}}}else{if(g.useVideo){}}};this._onmetadata=function(a){t._wD('SMSound.onmetadata()');if(!a.width&&!a.height){t._wD('No width/height given, assuming defaults');a.width=320;a.height=240}g.metadata=a;g.width=a.width;g.height=a.height;if(g._iO.onmetadata){t._wD('SMSound._onmetadata(): "'+g.sID+'"');g._iO.onmetadata.apply(g)}t._wD('SMSound.onmetadata() complete')};this._onbufferchange=function(a){if(g.playState===0){return false}if(a==g.isBuffering){t._wD('_onbufferchange: ignoring false default / loaded sound');return false}g.isBuffering=(a==1?true:false);if(g._iO.onbufferchange){t._wD('SMSound._onbufferchange(): '+a);g._iO.onbufferchange.apply(g)}};this._ondataerror=function(a){if(g.playState>0){t._wD('SMSound._ondataerror(): '+a);if(g._iO.ondataerror){g._iO.ondataerror.apply(g)}}else{}}};this._onfullscreenchange=function(a){t._wD('onfullscreenchange(): '+a);t.isFullScreen=(a==1?true:false);if(!t.isFullScreen){try{window.focus();t._wD('window.focus()')}catch(e){}}};if(window.addEventListener){window.addEventListener('focus',t.handleFocus,false);window.addEventListener('load',t.beginDelayedInit,false);window.addEventListener('unload',t.destruct,false);if(t._tryInitOnFocus){window.addEventListener('mousemove',t.handleFocus,false)}}else if(window.attachEvent){window.attachEvent('onfocus',t.handleFocus);window.attachEvent('onload',t.beginDelayedInit);window.attachEvent('unload',t.destruct)}else{t._debugTS('onload',false);soundManager.onerror();soundManager.disable()}if(document.addEventListener){document.addEventListener('DOMContentLoaded',t.domContentLoaded,false)}}if(typeof SM2_DEFER=='undefined'||!SM2_DEFER){soundManager=new SoundManager()}
function InlinePlayer(){var d=this;var f=this;var g=soundManager;this.excludeClass='inline-exclude';this.links=[];this.sounds=[];this.soundsByURL=[];this.indexByURL=[];this.lastSound=null;this.soundCount=0;var h=(navigator.userAgent.match(/msie/i));this.config={playNext:true,autoPlay:false};this.css={sDefault:'button',sLoading:'loading',sPlaying:'playing',sPaused:'paused'};this.addEventHandler=function(o,a,b){typeof(attachEvent)=='undefined'?o.addEventListener(a,b,false):o.attachEvent('on'+a,b)};this.removeEventHandler=function(o,a,b){typeof(attachEvent)=='undefined'?o.removeEventListener(a,b,false):o.detachEvent('on'+a,b)};this.classContains=function(o,a){return(typeof(o.className)!='undefined'?o.className.match(new RegExp('(\\s|^)'+a+'(\\s|$)')):false)};this.addClass=function(o,a){if(!o||!a||d.classContains(o,a))return false;o.className=(o.className?o.className+' ':'')+a};this.removeClass=function(o,a){if(!o||!a||!d.classContains(o,a))return false;o.className=o.className.replace(new RegExp('( '+a+')|('+a+')','g'),'')};this.getSoundByURL=function(a){return(typeof d.soundsByURL[a]!='undefined'?d.soundsByURL[a]:null)};this.isChildOfNode=function(o,a){if(!o||!o.parentNode){return false}a=a.toLowerCase();do{o=o.parentNode}while(o&&o.parentNode&&o.nodeName.toLowerCase()!=a);return(o.nodeName.toLowerCase()==a?o:null)};this.events={play:function(){f.removeClass(this._data.oLink,this._data.className);this._data.className=f.css.sPlaying;f.addClass(this._data.oLink,this._data.className)},stop:function(){f.removeClass(this._data.oLink,this._data.className);this._data.className=''},pause:function(){f.removeClass(this._data.oLink,this._data.className);this._data.className=f.css.sPaused;f.addClass(this._data.oLink,this._data.className)},resume:function(){f.removeClass(this._data.oLink,this._data.className);this._data.className=f.css.sPlaying;f.addClass(this._data.oLink,this._data.className)},finish:function(){f.removeClass(this._data.oLink,this._data.className);this._data.className='';if(f.config.playNext){var a=(f.indexByURL[this._data.oLink.href]+1);if(a<f.links.length){f.handleClick({'target':f.links[a]})}}}};this.stopEvent=function(e){if(typeof e!='undefined'&&typeof e.preventDefault!='undefined'){e.preventDefault()}else if(typeof event!='undefined'&&typeof event.returnValue!='undefined'){event.returnValue=false}return false};this.getTheDamnLink=(h)?function(e){return(e&&e.target?e.target:window.event.srcElement)}:function(e){return e.target};this.handleClick=function(e){if(typeof e.button!='undefined'&&e.button>1){return true}var o=d.getTheDamnLink(e);if(o.nodeName.toLowerCase()!='a'){o=d.isChildOfNode(o,'a');if(!o)return true}var a=o.getAttribute('href');if(!o.href||!o.href.match(/\.mp3$/i)||d.classContains(o,d.excludeClass)){if(h&&o.onclick){return false}return true}g._writeDebug('handleClick()');var b=(o.href);var c=d.getSoundByURL(b);if(c){if(c==d.lastSound){c.togglePause()}else{c.togglePause();g._writeDebug('sound different than last sound: '+d.lastSound.sID);if(d.lastSound)d.stopSound(d.lastSound)}}else{c=g.createSound({id:'inlineMP3Sound'+(d.soundCount++),url:b,onplay:d.events.play,onstop:d.events.stop,onpause:d.events.pause,onresume:d.events.resume,onfinish:d.events.finish});c._data={oLink:o,className:d.css.sPlaying};d.soundsByURL[b]=c;d.sounds.push(c);if(d.lastSound)d.stopSound(d.lastSound);c.play()}d.lastSound=c;if(typeof e!='undefined'&&typeof e.preventDefault!='undefined'){e.preventDefault()}else{event.returnValue=false}return false};this.stopSound=function(a){soundManager.stop(a.sID);soundManager.unload(a.sID)};this.init=function(){g._writeDebug('inlinePlayer.init()');var a=document.getElementsByTagName('a');var b=0;for(var i=0;i<a.length;i++){if(a[i].href.match(/\.mp3/i)&&!d.classContains(a[i],d.excludeClass)){d.addClass(a[i],d.css.sDefault);d.links[b]=(a[i]);d.indexByURL[a[i].href]=b;b++}}if(b>0){d.addEventHandler(document,'click',d.handleClick);if(d.config.autoPlay){d.handleClick({target:d.links[0],preventDefault:function(){}})}}g._writeDebug('inlinePlayer.init(): Found '+b+' relevant items.')};this.init()}var inlinePlayer=null;soundManager.debugMode=false;soundManager.url='resources/';soundManager.onready(function(){if(soundManager.supported()){inlinePlayer=new InlinePlayer()}});(function($){var y="2.99";if($.support==undefined){$.support={opacity:!($.browser.msie)}}function debug(s){$.fn.cycle.debug&&log(s)}function log(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}$.expr[":"].paused=function(a){return a.cyclePause};$.fn.cycle=function(g,h){var o={s:this.selector,c:this.context};if(this.length===0&&g!="stop"){if(!$.isReady&&o.s){log("DOM not ready, queuing slideshow");$(function(){$(o.s,o.c).cycle(g,h)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}return this.each(function(){var a=handleArguments(this,g,h);if(a===false){return}a.updateActivePagerLink=a.updateActivePagerLink||$.fn.cycle.updateActivePagerLink;if(this.cycleTimeout){clearTimeout(this.cycleTimeout)}this.cycleTimeout=this.cyclePause=0;var b=$(this);var c=a.slideExpr?$(a.slideExpr,this):b.children();var d=c.get();if(d.length<2){log("terminating; too few slides: "+d.length);return}var e=buildOptions(b,c,d,a,o);if(e===false){return}var f=e.continuous?10:getTimeout(d[e.currSlide],d[e.nextSlide],e,!e.backwards);if(f){f+=(e.delay||0);if(f<10){f=10}debug("first timeout: "+f);this.cycleTimeout=setTimeout(function(){go(d,e,0,!a.backwards)},f)}})};function handleArguments(e,f,g){if(e.cycleStop==undefined){e.cycleStop=0}if(f===undefined||f===null){f={}}if(f.constructor==String){switch(f){case"destroy":case"stop":var h=$(e).data("cycle.opts");if(!h){return false}e.cycleStop++;if(e.cycleTimeout){clearTimeout(e.cycleTimeout)}e.cycleTimeout=0;$(e).removeData("cycle.opts");if(f=="destroy"){destroy(h)}return false;case"toggle":e.cyclePause=(e.cyclePause===1)?0:1;checkInstantResume(e.cyclePause,g,e);return false;case"pause":e.cyclePause=1;return false;case"resume":e.cyclePause=0;checkInstantResume(false,g,e);return false;case"prev":case"next":var h=$(e).data("cycle.opts");if(!h){log('options not found, "prev/next" ignored');return false}$.fn.cycle[f](h);return false;default:f={fx:f}}return f}else{if(f.constructor==Number){var i=f;f=$(e).data("cycle.opts");if(!f){log("options not found, can not advance slide");return false}if(i<0||i>=f.elements.length){log("invalid slide index: "+i);return false}f.nextSlide=i;if(e.cycleTimeout){clearTimeout(e.cycleTimeout);e.cycleTimeout=0}if(typeof g=="string"){f.oneTimeFx=g}go(f.elements,f,1,i>=f.currSlide);return false}}return f;function checkInstantResume(a,b,c){if(!a&&b===true){var d=$(c).data("cycle.opts");if(!d){log("options not found, can not resume");return false}if(c.cycleTimeout){clearTimeout(c.cycleTimeout);c.cycleTimeout=0}go(d.elements,d,1,!d.backwards)}}}function removeFilter(a,b){if(!$.support.opacity&&b.cleartype&&a.style.filter){try{a.style.removeAttribute("filter")}catch(smother){}}}function destroy(a){if(a.next){$(a.next).unbind(a.prevNextEvent)}if(a.prev){$(a.prev).unbind(a.prevNextEvent)}if(a.pager||a.pagerAnchorBuilder){$.each(a.pagerAnchors||[],function(){this.unbind().remove()})}a.pagerAnchors=null;if(a.destroy){a.destroy(a)}}function buildOptions(f,g,k,l,o){var m=$.extend({},$.fn.cycle.defaults,l||{},$.metadata?f.metadata():$.meta?f.data():{});if(m.autostop){m.countdown=m.autostopCount||k.length}var n=f[0];f.data("cycle.opts",m);m.$cont=f;m.stopCount=n.cycleStop;m.elements=k;m.before=m.before?[m.before]:[];m.after=m.after?[m.after]:[];if(!$.support.opacity&&m.cleartype){m.after.push(function(){removeFilter(this,m)})}if(m.continuous){m.after.push(function(){go(k,m,0,!m.backwards)})}saveOriginalOpts(m);if(!$.support.opacity&&m.cleartype&&!m.cleartypeNoBg){clearTypeFix(g)}if(f.css("position")=="static"){f.css("position","relative")}if(m.width){f.width(m.width)}if(m.height&&m.height!="auto"){f.height(m.height)}if(m.startingSlide){m.startingSlide=parseInt(m.startingSlide)}else{if(m.backwards){m.startingSlide=k.length-1}}if(m.random){m.randomMap=[];for(var i=0;i<k.length;i++){m.randomMap.push(i)}m.randomMap.sort(function(a,b){return Math.random()-0.5});m.randomIndex=1;m.startingSlide=m.randomMap[1]}else{if(m.startingSlide>=k.length){m.startingSlide=0}}m.currSlide=m.startingSlide||0;var p=m.startingSlide;g.css({position:"absolute",top:0,left:0}).hide().each(function(i){var z;if(m.backwards){z=p?i<=p?k.length+(i-p):p-i:k.length-i}else{z=p?i>=p?k.length-(i-p):p-i:k.length-i}$(this).css("z-index",z)});$(k[p]).css("opacity",1).show();removeFilter(k[p],m);if(m.fit&&m.width){g.width(m.width)}if(m.fit&&m.height&&m.height!="auto"){g.height(m.height)}var q=m.containerResize&&!f.innerHeight();if(q){var r=0,maxh=0;for(var j=0;j<k.length;j++){var s=$(k[j]),e=s[0],w=s.outerWidth(),h=s.outerHeight();if(!w){w=e.offsetWidth||e.width||s.attr("width")}if(!h){h=e.offsetHeight||e.height||s.attr("height")}r=w>r?w:r;maxh=h>maxh?h:maxh}if(r>0&&maxh>0){f.css({width:r+"px",height:maxh+"px"})}}if(m.pause){f.hover(function(){this.cyclePause++},function(){this.cyclePause--})}if(supportMultiTransitions(m)===false){return false}var t=false;l.requeueAttempts=l.requeueAttempts||0;g.each(function(){var a=$(this);this.cycleH=(m.fit&&m.height)?m.height:(a.height()||this.offsetHeight||this.height||a.attr("height")||0);this.cycleW=(m.fit&&m.width)?m.width:(a.width()||this.offsetWidth||this.width||a.attr("width")||0);if(a.is("img")){var b=($.browser.msie&&this.cycleW==28&&this.cycleH==30&&!this.complete);var c=($.browser.mozilla&&this.cycleW==34&&this.cycleH==19&&!this.complete);var d=($.browser.opera&&((this.cycleW==42&&this.cycleH==19)||(this.cycleW==37&&this.cycleH==17))&&!this.complete);var e=(this.cycleH==0&&this.cycleW==0&&!this.complete);if(b||c||d||e){if(o.s&&m.requeueOnImageNotLoaded&&++l.requeueAttempts<100){log(l.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH);setTimeout(function(){$(o.s,o.c).cycle(l)},m.requeueTimeout);t=true;return false}else{log("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}}return true});if(t){return false}m.cssBefore=m.cssBefore||{};m.cssAfter=m.cssAfter||{};m.cssFirst=m.cssFirst||{};m.animIn=m.animIn||{};m.animOut=m.animOut||{};g.not(":eq("+p+")").css(m.cssBefore);$(g[p]).css(m.cssFirst);if(m.timeout){m.timeout=parseInt(m.timeout);if(m.speed.constructor==String){m.speed=$.fx.speeds[m.speed]||parseInt(m.speed)}if(!m.sync){m.speed=m.speed/2}var u=m.fx=="none"?0:m.fx=="shuffle"?500:250;while((m.timeout-m.speed)<u){m.timeout+=m.speed}}if(m.easing){m.easeIn=m.easeOut=m.easing}if(!m.speedIn){m.speedIn=m.speed}if(!m.speedOut){m.speedOut=m.speed}m.slideCount=k.length;m.currSlide=m.lastSlide=p;if(m.random){if(++m.randomIndex==k.length){m.randomIndex=0}m.nextSlide=m.randomMap[m.randomIndex]}else{if(m.backwards){m.nextSlide=m.startingSlide==0?(k.length-1):m.startingSlide-1}else{m.nextSlide=m.startingSlide>=(k.length-1)?0:m.startingSlide+1}}if(!m.multiFx){var v=$.fn.cycle.transitions[m.fx];if($.isFunction(v)){v(f,g,m)}else{if(m.fx!="custom"&&!m.multiFx){log("unknown transition: "+m.fx,"; slideshow terminating");return false}}}var x=g[p];if(m.before.length){m.before[0].apply(x,[x,x,m,true])}if(m.after.length){m.after[0].apply(x,[x,x,m,true])}if(m.next){$(m.next).bind(m.prevNextEvent,function(){return advance(m,1)})}if(m.prev){$(m.prev).bind(m.prevNextEvent,function(){return advance(m,0)})}if(m.pager||m.pagerAnchorBuilder){buildPager(k,m)}exposeAddSlide(m,k);return m}function saveOriginalOpts(a){a.original={before:[],after:[]};a.original.cssBefore=$.extend({},a.cssBefore);a.original.cssAfter=$.extend({},a.cssAfter);a.original.animIn=$.extend({},a.animIn);a.original.animOut=$.extend({},a.animOut);$.each(a.before,function(){a.original.before.push(this)});$.each(a.after,function(){a.original.after.push(this)})}function supportMultiTransitions(a){var i,tx,txs=$.fn.cycle.transitions;if(a.fx.indexOf(",")>0){a.multiFx=true;a.fxs=a.fx.replace(/\s*/g,"").split(",");for(i=0;i<a.fxs.length;i++){var b=a.fxs[i];tx=txs[b];if(!tx||!txs.hasOwnProperty(b)||!$.isFunction(tx)){log("discarding unknown transition: ",b);a.fxs.splice(i,1);i--}}if(!a.fxs.length){log("No valid transitions named; slideshow terminating.");return false}}else{if(a.fx=="all"){a.multiFx=true;a.fxs=[];for(p in txs){tx=txs[p];if(txs.hasOwnProperty(p)&&$.isFunction(tx)){a.fxs.push(p)}}}}if(a.multiFx&&a.randomizeEffects){var c=Math.floor(Math.random()*20)+30;for(i=0;i<c;i++){var d=Math.floor(Math.random()*a.fxs.length);a.fxs.push(a.fxs.splice(d,1)[0])}debug("randomized fx sequence: ",a.fxs)}return true}function exposeAddSlide(d,e){d.addSlide=function(a,b){var c=$(a),s=c[0];if(!d.autostopCount){d.countdown++}e[b?"unshift":"push"](s);if(d.els){d.els[b?"unshift":"push"](s)}d.slideCount=e.length;c.css("position","absolute");c[b?"prependTo":"appendTo"](d.$cont);if(b){d.currSlide++;d.nextSlide++}if(!$.support.opacity&&d.cleartype&&!d.cleartypeNoBg){clearTypeFix(c)}if(d.fit&&d.width){c.width(d.width)}if(d.fit&&d.height&&d.height!="auto"){c.height(d.height)}s.cycleH=(d.fit&&d.height)?d.height:c.height();s.cycleW=(d.fit&&d.width)?d.width:c.width();c.css(d.cssBefore);if(d.pager||d.pagerAnchorBuilder){$.fn.cycle.createPagerAnchor(e.length-1,s,$(d.pager),e,d)}if($.isFunction(d.onAddSlide)){d.onAddSlide(c)}else{c.hide()}}}$.fn.cycle.resetState=function(a,b){b=b||a.fx;a.before=[];a.after=[];a.cssBefore=$.extend({},a.original.cssBefore);a.cssAfter=$.extend({},a.original.cssAfter);a.animIn=$.extend({},a.original.animIn);a.animOut=$.extend({},a.original.animOut);a.fxFn=null;$.each(a.original.before,function(){a.before.push(this)});$.each(a.original.after,function(){a.after.push(this)});var c=$.fn.cycle.transitions[b];if($.isFunction(c)){c(a.$cont,$(a.elements),a)}};function go(a,b,c,d){if(c&&b.busy&&b.manualTrump){debug("manualTrump in go(), stopping active transition");$(a).stop(true,true);b.busy=0}if(b.busy){debug("transition active, ignoring new tx request");return}var p=b.$cont[0],curr=a[b.currSlide],next=a[b.nextSlide];if(p.cycleStop!=b.stopCount||p.cycleTimeout===0&&!c){return}if(!c&&!p.cyclePause&&!b.bounce&&((b.autostop&&(--b.countdown<=0))||(b.nowrap&&!b.random&&b.nextSlide<b.currSlide))){if(b.end){b.end(b)}return}var e=false;if((c||!p.cyclePause)&&(b.nextSlide!=b.currSlide)){e=true;var f=b.fx;curr.cycleH=curr.cycleH||$(curr).height();curr.cycleW=curr.cycleW||$(curr).width();next.cycleH=next.cycleH||$(next).height();next.cycleW=next.cycleW||$(next).width();if(b.multiFx){if(b.lastFx==undefined||++b.lastFx>=b.fxs.length){b.lastFx=0}f=b.fxs[b.lastFx];b.currFx=f}if(b.oneTimeFx){f=b.oneTimeFx;b.oneTimeFx=null}$.fn.cycle.resetState(b,f);if(b.before.length){$.each(b.before,function(i,o){if(p.cycleStop!=b.stopCount){return}o.apply(next,[curr,next,b,d])})}var g=function(){b.busy=0;$.each(b.after,function(i,o){if(p.cycleStop!=b.stopCount){return}o.apply(next,[curr,next,b,d])})};debug("tx firing("+f+"); currSlide: "+b.currSlide+"; nextSlide: "+b.nextSlide);b.busy=1;if(b.fxFn){b.fxFn(curr,next,b,g,d,c&&b.fastOnEvent)}else{if($.isFunction($.fn.cycle[b.fx])){$.fn.cycle[b.fx](curr,next,b,g,d,c&&b.fastOnEvent)}else{$.fn.cycle.custom(curr,next,b,g,d,c&&b.fastOnEvent)}}}if(e||b.nextSlide==b.currSlide){b.lastSlide=b.currSlide;if(b.random){b.currSlide=b.nextSlide;if(++b.randomIndex==a.length){b.randomIndex=0}b.nextSlide=b.randomMap[b.randomIndex];if(b.nextSlide==b.currSlide){b.nextSlide=(b.currSlide==b.slideCount-1)?0:b.currSlide+1}}else{if(b.backwards){var h=(b.nextSlide-1)<0;if(h&&b.bounce){b.backwards=!b.backwards;b.nextSlide=1;b.currSlide=0}else{b.nextSlide=h?(a.length-1):b.nextSlide-1;b.currSlide=h?0:b.nextSlide+1}}else{var h=(b.nextSlide+1)==a.length;if(h&&b.bounce){b.backwards=!b.backwards;b.nextSlide=a.length-2;b.currSlide=a.length-1}else{b.nextSlide=h?0:b.nextSlide+1;b.currSlide=h?a.length-1:b.nextSlide-1}}}}if(e&&b.pager){b.updateActivePagerLink(b.pager,b.currSlide,b.activePagerClass)}var j=0;if(b.timeout&&!b.continuous){j=getTimeout(a[b.currSlide],a[b.nextSlide],b,d)}else{if(b.continuous&&p.cyclePause){j=10}}if(j>0){p.cycleTimeout=setTimeout(function(){go(a,b,0,!b.backwards)},j)}}$.fn.cycle.updateActivePagerLink=function(a,b,c){$(a).each(function(){$(this).children().removeClass(c).eq(b).addClass(c)})};function getTimeout(a,b,c,d){if(c.timeoutFn){var t=c.timeoutFn.call(a,a,b,c,d);while(c.fx!="none"&&(t-c.speed)<250){t+=c.speed}debug("calculated timeout: "+t+"; speed: "+c.speed);if(t!==false){return t}}return c.timeout}$.fn.cycle.next=function(a){advance(a,1)};$.fn.cycle.prev=function(a){advance(a,0)};function advance(a,b){var c=b?1:-1;var d=a.elements;var p=a.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0}if(a.random&&c<0){a.randomIndex--;if(--a.randomIndex==-2){a.randomIndex=d.length-2}else{if(a.randomIndex==-1){a.randomIndex=d.length-1}}a.nextSlide=a.randomMap[a.randomIndex]}else{if(a.random){a.nextSlide=a.randomMap[a.randomIndex]}else{a.nextSlide=a.currSlide+c;if(a.nextSlide<0){if(a.nowrap){return false}a.nextSlide=d.length-1}else{if(a.nextSlide>=d.length){if(a.nowrap){return false}a.nextSlide=0}}}}var e=a.onPrevNextEvent||a.prevNextClick;if($.isFunction(e)){e(c>0,a.nextSlide,d[a.nextSlide])}go(d,a,1,b);return false}function buildPager(a,b){var c=$(b.pager);$.each(a,function(i,o){$.fn.cycle.createPagerAnchor(i,o,c,a,b)});b.updateActivePagerLink(b.pager,b.startingSlide,b.activePagerClass)}$.fn.cycle.createPagerAnchor=function(i,b,c,d,f){var a;if($.isFunction(f.pagerAnchorBuilder)){a=f.pagerAnchorBuilder(i,b);debug("pagerAnchorBuilder("+i+", el) returned: "+a)}else{a='<a href="#">'+(i+1)+"</a>"}if(!a){return}var g=$(a);if(g.parents("body").length===0){var h=[];if(c.length>1){c.each(function(){var a=g.clone(true);$(this).append(a);h.push(a[0])});g=$(h)}else{g.appendTo(c)}}f.pagerAnchors=f.pagerAnchors||[];f.pagerAnchors.push(g);g.bind(f.pagerEvent,function(e){e.preventDefault();f.nextSlide=i;var p=f.$cont[0],timeout=p.cycleTimeout;if(timeout){clearTimeout(timeout);p.cycleTimeout=0}var a=f.onPagerEvent||f.pagerClick;if($.isFunction(a)){a(f.nextSlide,d[f.nextSlide])}go(d,f,1,f.currSlide<i)});if(!/^click/.test(f.pagerEvent)&&!f.allowPagerClickBubble){g.bind("click.cycle",function(){return false})}if(f.pauseOnPagerHover){g.hover(function(){f.$cont[0].cyclePause++},function(){f.$cont[0].cyclePause--})}};$.fn.cycle.hopsFromLast=function(a,b){var d,l=a.lastSlide,c=a.currSlide;if(b){d=c>l?c-l:a.slideCount-l}else{d=c<l?l-c:l+a.slideCount-c}return d};function clearTypeFix(b){debug("applying clearType background-color hack");function hex(s){s=parseInt(s).toString(16);return s.length<2?"0"+s:s}function getBg(e){for(;e&&e.nodeName.toLowerCase()!="html";e=e.parentNode){var v=$.css(e,"background-color");if(v&&v.indexOf("rgb")>=0){var a=v.match(/\d+/g);return"#"+hex(a[0])+hex(a[1])+hex(a[2])}if(v&&v!="transparent"){return v}}return"#ffffff"}b.each(function(){$(this).css("background-color",getBg(this))})}$.fn.cycle.commonReset=function(a,b,c,w,h,d){$(c.elements).not(a).hide();if(typeof c.cssBefore.opacity=="undefined"){c.cssBefore.opacity=1}c.cssBefore.display="block";if(c.slideResize&&w!==false&&b.cycleW>0){c.cssBefore.width=b.cycleW}if(c.slideResize&&h!==false&&b.cycleH>0){c.cssBefore.height=b.cycleH}c.cssAfter=c.cssAfter||{};c.cssAfter.display="none";$(a).css("zIndex",c.slideCount+(d===true?1:0));$(b).css("zIndex",c.slideCount+(d===true?0:1))};$.fn.cycle.custom=function(a,b,c,d,e,f){var g=$(a),$n=$(b);var h=c.speedIn,speedOut=c.speedOut,easeIn=c.easeIn,easeOut=c.easeOut;$n.css(c.cssBefore);if(f){if(typeof f=="number"){h=speedOut=f}else{h=speedOut=1}easeIn=easeOut=null}var i=function(){$n.animate(c.animIn,h,easeIn,function(){d()})};g.animate(c.animOut,speedOut,easeOut,function(){g.css(c.cssAfter);if(!c.sync){i()}});if(c.sync){i()}};$.fn.cycle.transitions={fade:function(d,e,f){e.not(":eq("+f.currSlide+")").css("opacity",0);f.before.push(function(a,b,c){$.fn.cycle.commonReset(a,b,c);c.cssBefore.opacity=0});f.animIn={opacity:1};f.animOut={opacity:0};f.cssBefore={top:0,left:0}}};$.fn.cycle.ver=function(){return y};$.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:false,animIn:null,animOut:null,autostop:0,autostopCount:0,backwards:false,before:null,cleartype:!$.support.opacity,cleartypeNoBg:false,containerResize:1,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:true,next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:true,requeueTimeout:250,rev:0,shuffle:null,slideExpr:null,slideResize:1,speed:1000,speedIn:null,speedOut:null,startingSlide:0,sync:1,timeout:4000,timeoutFn:null,updateActivePagerLink:null}})(jQuery);(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(jQuery)})(function(b){var j=[],n=b(document),k=navigator.userAgent.toLowerCase(),l=b(window),g=[],o=null,p=/msie/.test(k)&&!/opera/.test(k),q=/opera/.test(k),m,r;m=p&&/msie 6./.test(k)&&"object"!==typeof window.XMLHttpRequest;r=p&&/msie 7.0/.test(k);b.modal=function(a,h){return b.modal.impl.init(a,h)};b.modal.close=function(){b.modal.impl.close()};b.modal.focus=function(a){b.modal.impl.focus(a)};b.modal.setContainerDimensions=function(){b.modal.impl.setContainerDimensions()};b.modal.setPosition=function(){b.modal.impl.setPosition()};b.modal.update=function(a,h){b.modal.impl.update(a,h)};b.fn.modal=function(a){return b.modal.impl.init(this,a)};b.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1E3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null};b.modal.impl={d:{},init:function(a,h){if(this.d.data)return!1;o=p&&!b.support.boxModel;this.o=b.extend({},b.modal.defaults,h);this.zIndex=this.o.zIndex;this.occb=!1;if("object"===typeof a){if(a=a instanceof b?a:b(a),this.d.placeholder=!1,0<a.parent().parent().size()&&(a.before(b("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=a.css("display"),!this.o.persist))this.d.orig=a.clone(!0)}else if("string"===typeof a||"number"===typeof a)a=b("<div></div>").html(a);else return alert("SimpleModal Error: Unsupported data type: "+typeof a),this;this.create(a);this.open();b.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]);return this},create:function(a){this.getDimensions();if(this.o.modal&&m)this.d.iframe=b('<iframe src="javascript:false;"></iframe>').css(b.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:g[0],width:g[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo);this.d.overlay=b("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(b.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?j[0]:0,width:this.o.modal?j[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo);this.d.container=b("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(b.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?b(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo);this.d.wrap=b("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container);this.d.data=a.attr("id",a.attr("id")||this.o.dataId).addClass("simplemodal-data").css(b.extend(this.o.dataCss,{display:"none"})).appendTo("body");this.setContainerDimensions();this.d.data.appendTo(this.d.wrap);(m||o)&&this.fixIE()},bindEvents:function(){var a=this;b("."+a.o.closeClass).bind("click.simplemodal",function(b){b.preventDefault();a.close()});a.o.modal&&a.o.close&&a.o.overlayClose&&a.d.overlay.bind("click.simplemodal",function(b){b.preventDefault();a.close()});n.bind("keydown.simplemodal",function(b){a.o.modal&&9===b.keyCode?a.watchTab(b):a.o.close&&a.o.escClose&&27===b.keyCode&&(b.preventDefault(),a.close())});l.bind("resize.simplemodal orientationchange.simplemodal",function(){a.getDimensions();a.o.autoResize?a.setContainerDimensions():a.o.autoPosition&&a.setPosition();m||o?a.fixIE():a.o.modal&&(a.d.iframe&&a.d.iframe.css({height:g[0],width:g[1]}),a.d.overlay.css({height:j[0],width:j[1]}))})},unbindEvents:function(){b("."+this.o.closeClass).unbind("click.simplemodal");n.unbind("keydown.simplemodal");l.unbind(".simplemodal");this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var a=this.o.position;b.each([this.d.iframe||null,!this.o.modal?null:this.d.overlay,"fixed"===this.d.container.css("position")?this.d.container:null],function(b,e){if(e){var f=e[0].style;f.position="absolute";if(2>b)f.removeExpression("height"),f.removeExpression("width"),f.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),f.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else{var c,d;a&&a.constructor===Array?(c=a[0]?"number"===typeof a[0]?a[0].toString():a[0].replace(/px/,""):e.css("top").replace(/px/,""),c=-1===c.indexOf("%")?c+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(c.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',a[1]&&(d="number"===typeof a[1]?a[1].toString():a[1].replace(/px/,""),d=-1===d.indexOf("%")?d+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(d.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(c='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',d='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"');f.removeExpression("top");f.removeExpression("left");f.setExpression("top",c);f.setExpression("left",d)}}})},focus:function(a){var h=this,a=a&&-1!==b.inArray(a,["first","last"])?a:"first",e=b(":input:enabled:visible:"+a,h.d.wrap);setTimeout(function(){0<e.length?e.focus():h.d.wrap.focus()},10)},getDimensions:function(){var a="undefined"===typeof window.innerHeight?l.height():window.innerHeight;j=[n.height(),n.width()];g=[a,l.width()]},getVal:function(a,b){return a?"number"===typeof a?a:"auto"===a?0:0<a.indexOf("%")?parseInt(a.replace(/%/,""))/100*("h"===b?g[0]:g[1]):parseInt(a.replace(/px/,"")):null},update:function(a,b){if(!this.d.data)return!1;this.d.origHeight=this.getVal(a,"h");this.d.origWidth=this.getVal(b,"w");this.d.data.hide();a&&this.d.container.css("height",a);b&&this.d.container.css("width",b);this.setContainerDimensions();this.d.data.show();this.o.focus&&this.focus();this.unbindEvents();this.bindEvents()},setContainerDimensions:function(){var a=m||r,b=this.d.origHeight?this.d.origHeight:q?this.d.container.height():this.getVal(a?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),a=this.d.origWidth?this.d.origWidth:q?this.d.container.width():this.getVal(a?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),e=this.d.data.outerHeight(!0),f=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||b;this.d.origWidth=this.d.origWidth||a;var c=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,d=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,c=c&&c<g[0]?c:g[0],d=d&&d<g[1]?d:g[1],i=this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto",b=b?this.o.autoResize&&b>c?c:b<i?i:b:e?e>c?c:this.o.minHeight&&"auto"!==i&&e<i?i:e:i,c=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",a=a?this.o.autoResize&&a>d?d:a<c?c:a:f?f>d?d:this.o.minWidth&&"auto"!==c&&f<c?c:f:c;this.d.container.css({height:b,width:a});this.d.wrap.css({overflow:e>b||f>a?"auto":"visible"});this.o.autoPosition&&this.setPosition()},setPosition:function(){var a,b;a=g[0]/2-this.d.container.outerHeight(!0)/2;b=g[1]/2-this.d.container.outerWidth(!0)/2;var e="fixed"!==this.d.container.css("position")?l.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(a=e+(this.o.position[0]||a),b=this.o.position[1]||b):a=e+a;this.d.container.css({left:b,top:a})},watchTab:function(a){if(0<b(a.target).parents(".simplemodal-container").length){if(this.inputs=b(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),!a.shiftKey&&a.target===this.inputs[this.inputs.length-1]||a.shiftKey&&a.target===this.inputs[0]||0===this.inputs.length)a.preventDefault(),this.focus(a.shiftKey?"last":"first")}else a.preventDefault(),this.focus()},open:function(){this.d.iframe&&this.d.iframe.show();b.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show());this.o.focus&&this.focus();this.bindEvents()},close:function(){if(!this.d.data)return!1;this.unbindEvents();if(b.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var a=b("#simplemodal-placeholder");this.o.persist?a.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),a.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove();this.d.overlay.hide();this.d.iframe&&this.d.iframe.hide().remove();this.d.overlay.remove();this.d={}}}}});var speakWorker;try{speakWorker=new Worker('resources/speakWorker.min.js')}catch(e){console.log('speak.js warning: no worker support')}function speak(j,k){var l=1;function parseWav(d){function readInt(i,a){var b=0;var c=0;while(a){b+=d[i]<<c;c+=8;i++;a--}return b}if(readInt(20,2)!=1)throw'Invalid compression code, not PCM';if(readInt(22,2)!=1)throw'Invalid number of channels, not 1';return{sampleRate:readInt(24,4),bitsPerSample:readInt(34,2),samples:d.subarray(44)}}function playHTMLAudioElement(h){function encode64(a){var b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';var c='=';var d='';var e=0;var f=0;for(var i=0;i<a.length;i++){e=(e<<8)|a[i];f+=8;while(f>=6){var g=(e>>(f-6))&0x3f;f-=6;d+=b[g]}}if(f==2){d+=b[(e&3)<<4];d+=c+c}else if(f==4){d+=b[(e&0xf)<<2];d+=c}return d}document.getElementById("speak").innerHTML=("<audio id=\"player\" src=\"data:audio/x-wav;base64,"+encode64(h)+"\">");document.getElementById("player").play()}function playAudioDataAPI(a){try{var b=new Audio();b.mozSetup(1,a.sampleRate);var c=a.samples.length;var d=a.samples;var f=new Float32Array(c);for(var i=0;i<c;i++){var g=d[i<<1]+(d[(i<<1)+1]<<8);if(g>=0x8000)g|=~0x7FFF;f[i]=g/0x8000}b.mozWriteAudio(f);return true}catch(e){return false}}function handleWav(a){var b=Date.now();var c=parseWav(a);playHTMLAudioElement(a);if(l)console.log('speak.js: wav processing took '+(Date.now()-b).toFixed(2)+' ms')}if(k&&k.noWorker){var m=Date.now();var n=generateSpeech(j,k);if(l)console.log('speak.js: processing took '+(Date.now()-m).toFixed(2)+' ms');handleWav(n)}else{var m=Date.now();speakWorker.onmessage=function(a){if(l)console.log('speak.js: worker processing took '+(Date.now()-m).toFixed(2)+' ms');handleWav(a.data)};speakWorker.postMessage({text:j,args:k})}}
(function(e,t){function i(t,i){var a,n,r,o=t.nodeName.toLowerCase();return"area"===o?(a=t.parentNode,n=a.name,t.href&&n&&"map"===a.nodeName.toLowerCase()?(r=e("img[usemap=#"+n+"]")[0],!!r&&s(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var a=0,n=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,s){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),s&&s.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var s,a,n=e(this[0]);n.length&&n[0]!==document;){if(s=n.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(a=parseInt(n.css("zIndex"),10),!isNaN(a)&&0!==a))return a;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,s){return!!e.data(t,s[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var s=e.attr(t,"tabindex"),a=isNaN(s);return(a||s>=0)&&i(t,!a)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,s){function a(t,i,s,a){return e.each(n,function(){i-=parseFloat(e.css(t,"padding"+this))||0,s&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var n="Width"===s?["Left","Right"]:["Top","Bottom"],r=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+s]=function(i){return i===t?o["inner"+s].call(this):this.each(function(){e(this).css(r,a(this,i)+"px")})},e.fn["outer"+s]=function(t,i){return"number"!=typeof t?o["outer"+s].call(this,t):this.each(function(){e(this).css(r,a(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,s){var a,n=e.ui[t].prototype;for(a in s)n.plugins[a]=n.plugins[a]||[],n.plugins[a].push([i,s[a]])},call:function(e,t,i){var s,a=e.plugins[t];if(a&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(s=0;a.length>s;s++)e.options[a[s][0]]&&a[s][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",a=!1;return t[s]>0?!0:(t[s]=1,a=t[s]>0,t[s]=0,a)}})})(jQuery);(function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(a){}n(t)},e.widget=function(i,s,n){var a,r,o,h,l={},u=i.split(".")[0];i=i.split(".")[1],a=u+"-"+i,n||(n=s,s=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(n,function(i,n){return e.isFunction(n)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,a=this._superApply;return this._super=e,this._superApply=t,i=n.apply(this,arguments),this._super=s,this._superApply=a,i}}(),t):(l[i]=n,t)}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var n,a,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(n in r[o])a=r[o][n],r[o].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,n=e.data(this,a);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,h),s!==n&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(r||{})._init():e.data(this,a,new n(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,a,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},n=i.split("."),i=n.shift(),n.length){for(a=o[i]=e.widget.extend({},this.options[i]),r=0;n.length-1>r;r++)a[n[r]]=a[n[r]]||{},a=a[n[r]];if(i=n.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var a,r=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),e.each(n,function(n,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?a.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var r,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}})})(jQuery);(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?e(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),i.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,i){if(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",t,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i,s=this,n=!1,a=!1;for(e.ui.ddmanager&&!this.options.dropBehaviour&&(a=e.ui.ddmanager.drop(this,t)),this.dropped&&(a=this.dropped,this.dropped=!1),i=this.element[0];i&&(i=i.parentNode);)i===document&&(n=!0);return n||"original"!==this.options.helper?("invalid"===this.options.revert&&!a||"valid"===this.options.revert&&a||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var i=this.options,s=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,s,n=this.options;if("parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=["document"===n.containment?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===n.containment?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===n.containment?0:e(window).scrollLeft())+e("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===n.containment?0:e(window).scrollTop())+(e("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||n.containment.constructor===Array)n.containment.constructor===Array&&(this.containment=n.containment);else{if(i=e(n.containment),s=i[0],!s)return;t="hidden"!==e(s).css("overflow"),this.containment=[(parseInt(e(s).css("borderLeftWidth"),10)||0)+(parseInt(e(s).css("paddingLeft"),10)||0),(parseInt(e(s).css("borderTopWidth"),10)||0)+(parseInt(e(s).css("paddingTop"),10)||0),(t?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(e(s).css("borderRightWidth"),10)||0)-(parseInt(e(s).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(e(s).css("borderBottomWidth"),10)||0)-(parseInt(e(s).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i}},_convertPositionTo:function(t,i){i||(i=this.position);var s="absolute"===t?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*s}},_generatePosition:function(t){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName),l=t.pageX,u=t.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,u=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,i,s){return s=s||this._uiHash(),e.ui.plugin.call(this,t,[i,s]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i){var s=e(this).data("ui-draggable"),n=s.options,a=e.extend({},i,{item:s.element});s.sortables=[],e(n.connectToSortable).each(function(){var i=e.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",t,a))})},stop:function(t,i){var s=e(this).data("ui-draggable"),n=e.extend({},i,{item:s.element});e.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,n))})},drag:function(t,i){var s=e(this).data("ui-draggable"),n=this;e.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,e.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",t),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",t),s.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),i=e(this).data("ui-draggable").options;t.css("cursor")&&(i._cursor=t.css("cursor")),t.css("cursor",i.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i){var s=e(i.helper),n=e(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(t,i){var s=e(this).data("ui-draggable").options;s._opacity&&e(i.helper).css("opacity",s._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var i=e(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-e(document).scrollTop()<s.scrollSensitivity?n=e(document).scrollTop(e(document).scrollTop()-s.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<s.scrollSensitivity&&(n=e(document).scrollTop(e(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-e(document).scrollLeft()<s.scrollSensitivity?n=e(document).scrollLeft(e(document).scrollLeft()-s.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<s.scrollSensitivity&&(n=e(document).scrollLeft(e(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),i=t.options;t.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=e(this),s=i.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(t,i){var s,n,a,o,r,h,l,u,c,d,p=e(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--)r=p.snapElements[c].left,h=r+p.snapElements[c].width,l=p.snapElements[c].top,u=l+p.snapElements[c].height,g>r-m&&h+m>g&&y>l-m&&u+m>y||g>r-m&&h+m>g&&b>l-m&&u+m>b||v>r-m&&h+m>v&&y>l-m&&u+m>y||v>r-m&&h+m>v&&b>l-m&&u+m>b?("inner"!==f.snapMode&&(s=m>=Math.abs(l-b),n=m>=Math.abs(u-y),a=m>=Math.abs(r-v),o=m>=Math.abs(h-g),s&&(i.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:u,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h}).left-p.margins.left)),d=s||n||a||o,"outer"!==f.snapMode&&(s=m>=Math.abs(l-y),n=m>=Math.abs(u-b),a=m>=Math.abs(r-g),o=m>=Math.abs(h-v),s&&(i.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:u-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=s||n||a||o||d):(p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,i=this.data("ui-draggable").options,s=e.makeArray(e(i.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});s.length&&(t=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(i){e(this).css("zIndex",t+i)}),this.css("zIndex",t+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i){var s=e(i.helper),n=e(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(t,i){var s=e(this).data("ui-draggable").options;s._zIndex&&e(i.helper).css("zIndex",s._zIndex)}})})(jQuery);(function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,h,l,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),h=a.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-a.width()/2,top:e.pageY-h.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i,!0))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),u["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](u,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})})(jQuery);var Spark=function(a){var b=this;this.b='images/';this.s=['spark.png','spark2.png','spark3.png','spark4.png'];this.i=this.s[this.random(this.s.length)];this.f=this.b+this.i;this.n=document.createElement('img');this.newSpeed().newPoint().display(a).newPoint().fly()};Spark.prototype.display=function(){$(this.n).attr('src',this.f).addClass("spark").css('position','absolute').css('z-index',this.random(9)).css('top',this.pointY).css('left',this.pointX);$(document.body).append(this.n);return this};Spark.prototype.fly=function(){var a=this;$(this.n).animate({"top":this.pointY,"left":this.pointX},this.speed,'linear',function(){a.newSpeed().newPoint().fly()})};Spark.prototype.newSpeed=function(){this.speed=(this.random(10)+5)*3000;return this};Spark.prototype.newPoint=function(){this.pointX=this.random(window.innerWidth-100);this.pointY=this.random(window.innerHeight-100);return this};Spark.prototype.random=function(a){return Math.ceil(Math.random()*a)-1}